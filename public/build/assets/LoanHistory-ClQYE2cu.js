var ze=Object.defineProperty;var Je=(n,e,t)=>e in n?ze(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var L=(n,e,t)=>(Je(n,typeof e!="symbol"?e+"":e,t),t);import{z as We,D as Qe,ai as Ge,h as Xe,Q as Ke,o as ve,c as _e,a as we,u as Se,b as T,e as oe,t as re,F as Ae,m as et,Z as tt}from"./app-Wa7MhRQN.js";import{_ as st,a as $e,R as nt,G as at,b as it,c as ot,d as rt,e as lt}from"./SectionHead-BCoe0J8E.js";import{F as dt,I as ct}from"./index-DSZA78NS.js";import"./Logo-C9ONW968.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const he=n=>Object.prototype.toString.call(n)==="[object Object]",ye=(n,e)=>{const t=document.createElement(n);if(e&&typeof e=="object")for(const s in e)s==="html"?t.innerHTML=e[s]:t.setAttribute(s,e[s]);return t},ue=n=>["#text","#comment"].includes(n.nodeName)?n.data:n.childNodes?n.childNodes.map(e=>ue(e)).join(""):"",W=n=>{if(n==null)return"";if(n.hasOwnProperty("text")||n.hasOwnProperty("data")){const e=n;return e.text??W(e.data)}return n.hasOwnProperty("nodeName")?ue(n):String(n)},Ce=function(n,e){let t=0,s=0;for(;t<n+1;)e[s].hidden||(t+=1),s+=1;return s-1},Pe=function(n){const e={};if(n)for(const t of n)e[t.name]=t.value;return e},se=n=>n?n.trim().split(" ").map(e=>`.${e}`).join(""):null,xe=(n,e)=>!(e==null?void 0:e.split(" ").some(s=>!n.classList.contains(s))),J=(n,e)=>n?e?`${n} ${e}`:n:e||"";var Ve=function(){return Ve=Object.assign||function(n){for(var e,t=arguments,s=1,a=arguments.length;s<a;s++)for(var r in e=t[s])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Ve.apply(this,arguments)};function fe(n,e,t){for(var s,a=0,r=e.length;a<r;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return n.concat(s||Array.prototype.slice.call(e))}var H=function(){function n(e){e===void 0&&(e={});var t=this;Object.entries(e).forEach(function(s){var a=s[0],r=s[1];return t[a]=r})}return n.prototype.toString=function(){return JSON.stringify(this)},n.prototype.setValue=function(e,t){return this[e]=t,this},n}();function R(n){for(var e=arguments,t=[],s=1;s<arguments.length;s++)t[s-1]=e[s];return n!=null&&t.some(function(a){var r,i;return typeof((i=(r=n==null?void 0:n.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||i===void 0?void 0:i[a])=="function"&&n instanceof n.ownerDocument.defaultView[a]})}function Me(n,e,t){var s;return n.nodeName==="#text"?s=t.document.createTextNode(n.data):n.nodeName==="#comment"?s=t.document.createComment(n.data):(e?(s=t.document.createElementNS("http://www.w3.org/2000/svg",n.nodeName),n.nodeName==="foreignObject"&&(e=!1)):n.nodeName.toLowerCase()==="svg"?(s=t.document.createElementNS("http://www.w3.org/2000/svg","svg"),e=!0):s=t.document.createElement(n.nodeName),n.attributes&&Object.entries(n.attributes).forEach(function(a){var r=a[0],i=a[1];return s.setAttribute(r,i)}),n.childNodes&&n.childNodes.forEach(function(a){return s.appendChild(Me(a,e,t))}),t.valueDiffing&&(n.value&&R(s,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(s.value=n.value),n.checked&&R(s,"HTMLInputElement")&&(s.checked=n.checked),n.selected&&R(s,"HTMLOptionElement")&&(s.selected=n.selected))),s}var Ne=function(n,e){for(e=e.slice();e.length>0;){var t=e.splice(0,1)[0];n=n.childNodes[t]}return n};function G(n,e,t){var s,a,r,i=e[t._const.action],o=e[t._const.route];[t._const.addElement,t._const.addTextElement].includes(i)||(s=Ne(n,o));var l={diff:e,node:s};if(t.preDiffApply(l))return!0;switch(i){case t._const.addAttribute:if(!s||!R(s,"Element"))return!1;s.setAttribute(e[t._const.name],e[t._const.value]);break;case t._const.modifyAttribute:if(!s||!R(s,"Element"))return!1;s.setAttribute(e[t._const.name],e[t._const.newValue]),R(s,"HTMLInputElement")&&e[t._const.name]==="value"&&(s.value=e[t._const.newValue]);break;case t._const.removeAttribute:if(!s||!R(s,"Element"))return!1;s.removeAttribute(e[t._const.name]);break;case t._const.modifyTextElement:if(!s||!R(s,"Text"))return!1;t.textDiff(s,s.data,e[t._const.oldValue],e[t._const.newValue]),R(s.parentNode,"HTMLTextAreaElement")&&(s.parentNode.value=e[t._const.newValue]);break;case t._const.modifyValue:if(!s||s.value===void 0)return!1;s.value=e[t._const.newValue];break;case t._const.modifyComment:if(!s||!R(s,"Comment"))return!1;t.textDiff(s,s.data,e[t._const.oldValue],e[t._const.newValue]);break;case t._const.modifyChecked:if(!s||s.checked===void 0)return!1;s.checked=e[t._const.newValue];break;case t._const.modifySelected:if(!s||s.selected===void 0)return!1;s.selected=e[t._const.newValue];break;case t._const.replaceElement:var d=e[t._const.newValue].nodeName.toLowerCase()==="svg"||s.parentNode.namespaceURI==="http://www.w3.org/2000/svg";s.parentNode.replaceChild(Me(e[t._const.newValue],d,t),s);break;case t._const.relocateGroup:fe([],new Array(e[t._const.groupLength])).map(function(){return s.removeChild(s.childNodes[e[t._const.from]])}).forEach(function(p,h){h===0&&(r=s.childNodes[e[t._const.to]]),s.insertBefore(p,r||null)});break;case t._const.removeElement:s.parentNode.removeChild(s);break;case t._const.addElement:var f=(u=o.slice()).splice(u.length-1,1)[0];if(!R(s=Ne(n,u),"Element"))return!1;s.insertBefore(Me(e[t._const.element],s.namespaceURI==="http://www.w3.org/2000/svg",t),s.childNodes[f]||null);break;case t._const.removeTextElement:if(!s||s.nodeType!==3)return!1;var m=s.parentNode;m.removeChild(s),R(m,"HTMLTextAreaElement")&&(m.value="");break;case t._const.addTextElement:var u;if(f=(u=o.slice()).splice(u.length-1,1)[0],a=t.document.createTextNode(e[t._const.value]),!(s=Ne(n,u)).childNodes)return!1;s.insertBefore(a,s.childNodes[f]||null),R(s.parentNode,"HTMLTextAreaElement")&&(s.parentNode.value=e[t._const.value]);break;default:console.log("unknown action")}return t.postDiffApply({diff:l.diff,node:l.node,newNode:a}),!0}function De(n,e,t){var s=n[e];n[e]=n[t],n[t]=s}function ht(n,e,t){(e=e.slice()).reverse(),e.forEach(function(s){(function(a,r,i){switch(r[i._const.action]){case i._const.addAttribute:r[i._const.action]=i._const.removeAttribute,G(a,r,i);break;case i._const.modifyAttribute:De(r,i._const.oldValue,i._const.newValue),G(a,r,i);break;case i._const.removeAttribute:r[i._const.action]=i._const.addAttribute,G(a,r,i);break;case i._const.modifyTextElement:case i._const.modifyValue:case i._const.modifyComment:case i._const.modifyChecked:case i._const.modifySelected:case i._const.replaceElement:De(r,i._const.oldValue,i._const.newValue),G(a,r,i);break;case i._const.relocateGroup:De(r,i._const.from,i._const.to),G(a,r,i);break;case i._const.removeElement:r[i._const.action]=i._const.addElement,G(a,r,i);break;case i._const.addElement:r[i._const.action]=i._const.removeElement,G(a,r,i);break;case i._const.removeTextElement:r[i._const.action]=i._const.addTextElement,G(a,r,i);break;case i._const.addTextElement:r[i._const.action]=i._const.removeTextElement,G(a,r,i);break;default:console.log("unknown action")}})(n,s,t)})}var Oe=function(n){var e=[];return e.push(n.nodeName),n.nodeName!=="#text"&&n.nodeName!=="#comment"&&n.attributes&&(n.attributes.class&&e.push("".concat(n.nodeName,".").concat(n.attributes.class.replace(/ /g,"."))),n.attributes.id&&e.push("".concat(n.nodeName,"#").concat(n.attributes.id))),e},He=function(n){var e={},t={};return n.forEach(function(s){Oe(s).forEach(function(a){var r=a in e;r||a in t?r&&(delete e[a],t[a]=!0):e[a]=!0})}),e},Fe=function(n,e){var t=He(n),s=He(e),a={};return Object.keys(t).forEach(function(r){s[r]&&(a[r]=!0)}),a},Ze=function(n){return delete n.outerDone,delete n.innerDone,delete n.valueDone,!n.childNodes||n.childNodes.every(Ze)},j=function(n){if(Object.prototype.hasOwnProperty.call(n,"data"))return{nodeName:n.nodeName==="#text"?"#text":"#comment",data:n.data};var e={nodeName:n.nodeName};return Object.prototype.hasOwnProperty.call(n,"attributes")&&(e.attributes=Ve({},n.attributes)),Object.prototype.hasOwnProperty.call(n,"checked")&&(e.checked=n.checked),Object.prototype.hasOwnProperty.call(n,"value")&&(e.value=n.value),Object.prototype.hasOwnProperty.call(n,"selected")&&(e.selected=n.selected),Object.prototype.hasOwnProperty.call(n,"childNodes")&&(e.childNodes=n.childNodes.map(function(t){return j(t)})),e},ke=function(n,e){if(!["nodeName","value","checked","selected","data"].every(function(a){return n[a]===e[a]}))return!1;if(Object.prototype.hasOwnProperty.call(n,"data"))return!0;if(!!n.attributes!=!!e.attributes||!!n.childNodes!=!!e.childNodes)return!1;if(n.attributes){var t=Object.keys(n.attributes),s=Object.keys(e.attributes);if(t.length!==s.length||!t.every(function(a){return n.attributes[a]===e.attributes[a]}))return!1}return!(n.childNodes&&(n.childNodes.length!==e.childNodes.length||!n.childNodes.every(function(a,r){return ke(a,e.childNodes[r])})))},Le=function(n,e,t,s,a){if(a===void 0&&(a=!1),!n||!e||n.nodeName!==e.nodeName)return!1;if(["#text","#comment"].includes(n.nodeName))return!!a||n.data===e.data;if(n.nodeName in t)return!0;if(n.attributes&&e.attributes){if(n.attributes.id){if(n.attributes.id!==e.attributes.id)return!1;if("".concat(n.nodeName,"#").concat(n.attributes.id)in t)return!0}if(n.attributes.class&&n.attributes.class===e.attributes.class&&"".concat(n.nodeName,".").concat(n.attributes.class.replace(/ /g,"."))in t)return!0}if(s)return!0;var r=n.childNodes?n.childNodes.slice().reverse():[],i=e.childNodes?e.childNodes.slice().reverse():[];if(r.length!==i.length)return!1;if(a)return r.every(function(l,d){return l.nodeName===i[d].nodeName});var o=Fe(r,i);return r.every(function(l,d){return Le(l,i[d],o,!0,!0)})},me=function(n,e){return fe([],new Array(n)).map(function(){return e})},ut=function(n,e){for(var t=n.childNodes?n.childNodes:[],s=e.childNodes?e.childNodes:[],a=me(t.length,!1),r=me(s.length,!1),i=[],o=function(){return arguments[1]},l=!1,d=function(){var f=function(m,u,p,h){var y=0,N=[],V=m.length,c=u.length,_=fe([],new Array(V+1)).map(function(){return[]}),A=Fe(m,u),S=V===c;S&&m.some(function($,I){var w=Oe($),b=Oe(u[I]);return w.length!==b.length?(S=!1,!0):(w.some(function(g,x){if(g!==b[x])return S=!1,!0}),!S||void 0)});for(var k=0;k<V;k++)for(var P=m[k],M=0;M<c;M++){var D=u[M];p[k]||h[M]||!Le(P,D,A,S)?_[k+1][M+1]=0:(_[k+1][M+1]=_[k][M]?_[k][M]+1:1,_[k+1][M+1]>=y&&(y=_[k+1][M+1],N=[k+1,M+1]))}return y!==0&&{oldValue:N[0]-y,newValue:N[1]-y,length:y}}(t,s,a,r);f?(i.push(f),fe([],new Array(f.length)).map(o).forEach(function(m){return function(u,p,h,y){u[h.oldValue+y]=!0,p[h.newValue+y]=!0}(a,r,f,m)})):l=!0};!l;)d();return n.subsets=i,n.subsetsAge=100,i},pt=function(){function n(){this.list=[]}return n.prototype.add=function(e){var t;(t=this.list).push.apply(t,e)},n.prototype.forEach=function(e){this.list.forEach(function(t){return e(t)})},n}();function Ee(n,e){var t,s,a=n;for(e=e.slice();e.length>0;)s=e.splice(0,1)[0],t=a,a=a.childNodes?a.childNodes[s]:void 0;return{node:a,parentNode:t,nodeIndex:s}}function ft(n,e,t){return e.forEach(function(s){(function(a,r,i){var o,l,d,f;if(![i._const.addElement,i._const.addTextElement].includes(r[i._const.action])){var m=Ee(a,r[i._const.route]);l=m.node,d=m.parentNode,f=m.nodeIndex}var u,p,h=[],y={diff:r,node:l};if(i.preVirtualDiffApply(y))return!0;switch(r[i._const.action]){case i._const.addAttribute:l.attributes||(l.attributes={}),l.attributes[r[i._const.name]]=r[i._const.value],r[i._const.name]==="checked"?l.checked=!0:r[i._const.name]==="selected"?l.selected=!0:l.nodeName==="INPUT"&&r[i._const.name]==="value"&&(l.value=r[i._const.value]);break;case i._const.modifyAttribute:l.attributes[r[i._const.name]]=r[i._const.newValue];break;case i._const.removeAttribute:delete l.attributes[r[i._const.name]],Object.keys(l.attributes).length===0&&delete l.attributes,r[i._const.name]==="checked"?l.checked=!1:r[i._const.name]==="selected"?delete l.selected:l.nodeName==="INPUT"&&r[i._const.name]==="value"&&delete l.value;break;case i._const.modifyTextElement:l.data=r[i._const.newValue],d.nodeName==="TEXTAREA"&&(d.value=r[i._const.newValue]);break;case i._const.modifyValue:l.value=r[i._const.newValue];break;case i._const.modifyComment:l.data=r[i._const.newValue];break;case i._const.modifyChecked:l.checked=r[i._const.newValue];break;case i._const.modifySelected:l.selected=r[i._const.newValue];break;case i._const.replaceElement:u=j(r[i._const.newValue]),d.childNodes[f]=u;break;case i._const.relocateGroup:l.childNodes.splice(r[i._const.from],r[i._const.groupLength]).reverse().forEach(function(c){return l.childNodes.splice(r[i._const.to],0,c)}),l.subsets&&l.subsets.forEach(function(c){if(r[i._const.from]<r[i._const.to]&&c.oldValue<=r[i._const.to]&&c.oldValue>r[i._const.from])c.oldValue-=r[i._const.groupLength],(_=c.oldValue+c.length-r[i._const.to])>0&&(h.push({oldValue:r[i._const.to]+r[i._const.groupLength],newValue:c.newValue+c.length-_,length:_}),c.length-=_);else if(r[i._const.from]>r[i._const.to]&&c.oldValue>r[i._const.to]&&c.oldValue<r[i._const.from]){var _;c.oldValue+=r[i._const.groupLength],(_=c.oldValue+c.length-r[i._const.to])>0&&(h.push({oldValue:r[i._const.to]+r[i._const.groupLength],newValue:c.newValue+c.length-_,length:_}),c.length-=_)}else c.oldValue===r[i._const.from]&&(c.oldValue=r[i._const.to])});break;case i._const.removeElement:d.childNodes.splice(f,1),d.subsets&&d.subsets.forEach(function(c){c.oldValue>f?c.oldValue-=1:c.oldValue===f?c.delete=!0:c.oldValue<f&&c.oldValue+c.length>f&&(c.oldValue+c.length-1===f?c.length--:(h.push({newValue:c.newValue+f-c.oldValue,oldValue:f,length:c.length-f+c.oldValue-1}),c.length=f-c.oldValue))}),l=d;break;case i._const.addElement:var N=(p=r[i._const.route].slice()).splice(p.length-1,1)[0];l=(o=Ee(a,p))===null||o===void 0?void 0:o.node,u=j(r[i._const.element]),l.childNodes||(l.childNodes=[]),N>=l.childNodes.length?l.childNodes.push(u):l.childNodes.splice(N,0,u),l.subsets&&l.subsets.forEach(function(c){if(c.oldValue>=N)c.oldValue+=1;else if(c.oldValue<N&&c.oldValue+c.length>N){var _=c.oldValue+c.length-N;h.push({newValue:c.newValue+c.length-_,oldValue:N+1,length:_}),c.length-=_}});break;case i._const.removeTextElement:d.childNodes.splice(f,1),d.nodeName==="TEXTAREA"&&delete d.value,d.subsets&&d.subsets.forEach(function(c){c.oldValue>f?c.oldValue-=1:c.oldValue===f?c.delete=!0:c.oldValue<f&&c.oldValue+c.length>f&&(c.oldValue+c.length-1===f?c.length--:(h.push({newValue:c.newValue+f-c.oldValue,oldValue:f,length:c.length-f+c.oldValue-1}),c.length=f-c.oldValue))}),l=d;break;case i._const.addTextElement:var V=(p=r[i._const.route].slice()).splice(p.length-1,1)[0];u={nodeName:"#text",data:r[i._const.value]},(l=Ee(a,p).node).childNodes||(l.childNodes=[]),V>=l.childNodes.length?l.childNodes.push(u):l.childNodes.splice(V,0,u),l.nodeName==="TEXTAREA"&&(l.value=r[i._const.newValue]),l.subsets&&l.subsets.forEach(function(c){if(c.oldValue>=V&&(c.oldValue+=1),c.oldValue<V&&c.oldValue+c.length>V){var _=c.oldValue+c.length-V;h.push({newValue:c.newValue+c.length-_,oldValue:V+1,length:_}),c.length-=_}});break;default:console.log("unknown action")}l.subsets&&(l.subsets=l.subsets.filter(function(c){return!c.delete&&c.oldValue!==c.newValue}),h.length&&(l.subsets=l.subsets.concat(h))),i.postVirtualDiffApply({node:y.node,diff:y.diff,newNode:u})})(n,s,t)}),!0}function ne(n,e){e===void 0&&(e={valueDiffing:!0});var t={nodeName:n.nodeName};return R(n,"Text","Comment")?t.data=n.data:(n.attributes&&n.attributes.length>0&&(t.attributes={},Array.prototype.slice.call(n.attributes).forEach(function(s){return t.attributes[s.name]=s.value})),n.childNodes&&n.childNodes.length>0&&(t.childNodes=[],Array.prototype.slice.call(n.childNodes).forEach(function(s){return t.childNodes.push(ne(s,e))})),e.valueDiffing&&(R(n,"HTMLTextAreaElement")&&(t.value=n.value),R(n,"HTMLInputElement")&&["radio","checkbox"].includes(n.type.toLowerCase())&&n.checked!==void 0?t.checked=n.checked:R(n,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(t.value=n.value),R(n,"HTMLOptionElement")&&(t.selected=n.selected))),t}var mt=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,gt=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Ie(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var bt={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Ye=function(n,e){var t={nodeName:"",attributes:{}},s=!1,a=n.match(/<\/?([^\s]+?)[/\s>]/);if(a&&(t.nodeName=e||a[1]==="svg"?a[1]:a[1].toUpperCase(),(bt[a[1]]||n.charAt(n.length-2)==="/")&&(s=!0),t.nodeName.startsWith("!--"))){var r=n.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:r!==-1?n.slice(4,r):""},voidElement:s}}for(var i=new RegExp(gt),o=null,l=!1;!l;)if((o=i.exec(n))===null)l=!0;else if(o[0].trim())if(o[1]){var d=o[1].trim(),f=[d,""];d.indexOf("=")>-1&&(f=d.split("=")),t.attributes[f[0]]=f[1],i.lastIndex--}else o[2]&&(t.attributes[o[2]]=o[3].trim().substring(1,o[3].length-1));return{type:"tag",node:t,voidElement:s}},ae=function(n,e){e===void 0&&(e={valueDiffing:!0,caseSensitive:!1});var t,s=[],a=-1,r=[],i=!1;if(n.indexOf("<")!==0){var o=n.indexOf("<");s.push({nodeName:"#text",data:o===-1?n:n.substring(0,o)})}return n.replace(mt,function(l,d){var f=l.charAt(1)!=="/",m=l.startsWith("<!--"),u=d+l.length,p=n.charAt(u);if(m){var h=Ye(l,e.caseSensitive).node;if(a<0)return s.push(h),"";var y=r[a];return y&&h.nodeName&&(y.node.childNodes||(y.node.childNodes=[]),y.node.childNodes.push(h)),""}if(f){if((t=Ye(l,e.caseSensitive||i)).node.nodeName==="svg"&&(i=!0),a++,!t.voidElement&&p&&p!=="<"){t.node.childNodes||(t.node.childNodes=[]);var N=Ie(n.slice(u,n.indexOf("<",u)));t.node.childNodes.push({nodeName:"#text",data:N}),e.valueDiffing&&t.node.nodeName==="TEXTAREA"&&(t.node.value=N)}a===0&&t.node.nodeName&&s.push(t.node);var V=r[a-1];V&&t.node.nodeName&&(V.node.childNodes||(V.node.childNodes=[]),V.node.childNodes.push(t.node)),r[a]=t}if((!f||t.voidElement)&&(a>-1&&(t.voidElement||e.caseSensitive&&t.node.nodeName===l.slice(2,-1)||!e.caseSensitive&&t.node.nodeName.toUpperCase()===l.slice(2,-1).toUpperCase())&&--a>-1&&(t.node.nodeName==="svg"&&(i=!1),t=r[a]),p!=="<"&&p)){var c=a===-1?s:r[a].node.childNodes||[],_=n.indexOf("<",u);N=Ie(n.slice(u,_===-1?void 0:_)),c.push({nodeName:"#text",data:N})}return""}),s[0]},vt=function(){function n(e,t,s){this.options=s,this.t1=typeof Element<"u"&&R(e,"Element")?ne(e,this.options):typeof e=="string"?ae(e,this.options):JSON.parse(JSON.stringify(e)),this.t2=typeof Element<"u"&&R(t,"Element")?ne(t,this.options):typeof t=="string"?ae(t,this.options):JSON.parse(JSON.stringify(t)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&R(e,"Element")?ne(e,this.options):typeof e=="string"?ae(e,this.options):JSON.parse(JSON.stringify(e)),this.t2Orig=typeof Element<"u"&&R(t,"Element")?ne(t,this.options):typeof t=="string"?ae(t,this.options):JSON.parse(JSON.stringify(t))),this.tracker=new pt}return n.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},n.prototype.findDiffs=function(e,t){var s;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(s=this.findNextDiff(e,t,[])).length===0&&(ke(e,t)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,Ze(e),s=this.findNextDiff(e,t,[])))),s.length>0&&(this.foundAll=!1,this.tracker.add(s),ft(e,s,this.options))}while(s.length>0);return this.tracker.list},n.prototype.findNextDiff=function(e,t,s){var a,r;if(this.options.maxDepth&&s.length>this.options.maxDepth)return[];if(!e.outerDone){if(a=this.findOuterDiff(e,t,s),this.options.filterOuterDiff&&(r=this.options.filterOuterDiff(e,t,a))&&(a=r),a.length>0)return e.outerDone=!0,a;e.outerDone=!0}if(Object.prototype.hasOwnProperty.call(e,"data"))return[];if(!e.innerDone){if((a=this.findInnerDiff(e,t,s)).length>0)return a;e.innerDone=!0}if(this.options.valueDiffing&&!e.valueDone){if((a=this.findValueDiff(e,t,s)).length>0)return e.valueDone=!0,a;e.valueDone=!0}return[]},n.prototype.findOuterDiff=function(e,t,s){var a,r,i,o,l,d,f=[];if(e.nodeName!==t.nodeName){if(!s.length)throw new Error("Top level nodes have to be of the same kind.");return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(e)).setValue(this.options._const.newValue,j(t)).setValue(this.options._const.route,s)]}if(s.length&&this.options.diffcap<Math.abs((e.childNodes||[]).length-(t.childNodes||[]).length))return[new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(e)).setValue(this.options._const.newValue,j(t)).setValue(this.options._const.route,s)];if(Object.prototype.hasOwnProperty.call(e,"data")&&e.data!==t.data)return e.nodeName==="#text"?[new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)]:[new H().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,s).setValue(this.options._const.oldValue,e.data).setValue(this.options._const.newValue,t.data)];for(r=e.attributes?Object.keys(e.attributes).sort():[],i=t.attributes?Object.keys(t.attributes).sort():[],o=r.length,d=0;d<o;d++)a=r[d],(l=i.indexOf(a))===-1?f.push(new H().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,a).setValue(this.options._const.value,e.attributes[a])):(i.splice(l,1),e.attributes[a]!==t.attributes[a]&&f.push(new H().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,a).setValue(this.options._const.oldValue,e.attributes[a]).setValue(this.options._const.newValue,t.attributes[a])));for(o=i.length,d=0;d<o;d++)a=i[d],f.push(new H().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,s).setValue(this.options._const.name,a).setValue(this.options._const.value,t.attributes[a]));return f},n.prototype.findInnerDiff=function(e,t,s){var a=e.childNodes?e.childNodes.slice():[],r=t.childNodes?t.childNodes.slice():[],i=Math.max(a.length,r.length),o=Math.abs(a.length-r.length),l=[],d=0;if(!this.options.maxChildCount||i<this.options.maxChildCount){var f=!!(e.subsets&&e.subsetsAge--),m=f?e.subsets:e.childNodes&&t.childNodes?ut(e,t):[];if(m.length>0&&(l=this.attemptGroupRelocation(e,t,m,s,f)).length>0)return l}for(var u=0;u<i;u+=1){var p=a[u],h=r[u];o&&(p&&!h?p.nodeName==="#text"?(l.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,p.data)),d-=1):(l.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.element,j(p))),d-=1):h&&!p&&(h.nodeName==="#text"?l.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,h.data)):l.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.element,j(h))))),p&&h&&(!this.options.maxChildCount||i<this.options.maxChildCount?l=l.concat(this.findNextDiff(p,h,s.concat(d))):ke(p,h)||(a.length>r.length?(p.nodeName==="#text"?l.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,s.concat(d)).setValue(this.options._const.value,p.data)):l.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,j(p)).setValue(this.options._const.route,s.concat(d))),a.splice(u,1),u-=1,d-=1,o-=1):a.length<r.length?(l=l.concat([new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,j(h)).setValue(this.options._const.route,s.concat(d))]),a.splice(u,0,j(h)),o-=1):l=l.concat([new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(p)).setValue(this.options._const.newValue,j(h)).setValue(this.options._const.route,s.concat(d))]))),d+=1}return e.innerDone=!0,l},n.prototype.attemptGroupRelocation=function(e,t,s,a,r){for(var i,o,l,d,f,m=function(k,P,M){var D=k.childNodes?me(k.childNodes.length,!0):[],$=P.childNodes?me(P.childNodes.length,!0):[],I=0;return M.forEach(function(w){for(var b=w.oldValue+w.length,g=w.newValue+w.length,x=w.oldValue;x<b;x+=1)D[x]=I;for(x=w.newValue;x<g;x+=1)$[x]=I;I+=1}),{gaps1:D,gaps2:$}}(e,t,s),u=m.gaps1,p=m.gaps2,h=e.childNodes.slice(),y=t.childNodes.slice(),N=Math.min(u.length,p.length),V=[],c=0,_=0;c<N;_+=1,c+=1)if(!r||u[c]!==!0&&p[c]!==!0){if(u[_]===!0)if((d=h[_]).nodeName==="#text")if(y[c].nodeName==="#text"){if(d.data!==y[c].data){for(var A=_;h.length>A+1&&h[A+1].nodeName==="#text";)if(A+=1,y[c].data===h[A].data){f=!0;break}f||V.push(new H().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,a.concat(_)).setValue(this.options._const.oldValue,d.data).setValue(this.options._const.newValue,y[c].data))}}else V.push(new H().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,a.concat(_)).setValue(this.options._const.value,d.data)),u.splice(_,1),h.splice(_,1),N=Math.min(u.length,p.length),_-=1,c-=1;else p[c]===!0?V.push(new H().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,j(d)).setValue(this.options._const.newValue,j(y[c])).setValue(this.options._const.route,a.concat(_))):(V.push(new H().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,a.concat(_)).setValue(this.options._const.element,j(d))),u.splice(_,1),h.splice(_,1),N=Math.min(u.length,p.length),_-=1,c-=1);else if(p[c]===!0)(d=y[c]).nodeName==="#text"?(V.push(new H().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,a.concat(_)).setValue(this.options._const.value,d.data)),u.splice(_,0,!0),h.splice(_,0,{nodeName:"#text",data:d.data}),N=Math.min(u.length,p.length)):(V.push(new H().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,a.concat(_)).setValue(this.options._const.element,j(d))),u.splice(_,0,!0),h.splice(_,0,j(d)),N=Math.min(u.length,p.length));else if(u[_]!==p[c]){if(V.length>0)return V;if(l=s[u[_]],(o=Math.min(l.newValue,h.length-l.length))!==l.oldValue){i=!1;for(var S=0;S<l.length;S+=1)Le(h[o+S],h[l.oldValue+S],{},!1,!0)||(i=!0);if(i)return[new H().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,l.length).setValue(this.options._const.from,l.oldValue).setValue(this.options._const.to,o).setValue(this.options._const.route,a)]}}}return V},n.prototype.findValueDiff=function(e,t,s){var a=[];return e.selected!==t.selected&&a.push(new H().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,e.selected).setValue(this.options._const.newValue,t.selected).setValue(this.options._const.route,s)),(e.value||t.value)&&e.value!==t.value&&e.nodeName!=="OPTION"&&a.push(new H().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,e.value||"").setValue(this.options._const.newValue,t.value||"").setValue(this.options._const.route,s)),e.checked!==t.checked&&a.push(new H().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,e.checked).setValue(this.options._const.newValue,t.checked).setValue(this.options._const.route,s)),a},n}(),_t={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(n,e,t,s){n.data=s},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},wt=function(){function n(e){if(e===void 0&&(e={}),Object.entries(_t).forEach(function(a){var r=a[0],i=a[1];Object.prototype.hasOwnProperty.call(e,r)||(e[r]=i)}),!e._const){var t=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],s={};e.compress?t.forEach(function(a,r){return s[a]=r}):t.forEach(function(a){return s[a]=a}),e._const=s}this.options=e}return n.prototype.apply=function(e,t){return function(s,a,r){return a.every(function(i){return G(s,i,r)})}(e,t,this.options)},n.prototype.undo=function(e,t){return ht(e,t,this.options)},n.prototype.diff=function(e,t){return new vt(e,t,this.options).init()},n}();const Te=(n,e,t,{classes:s,format:a,hiddenHeader:r,sortable:i,scrollY:o,type:l},{noColumnWidths:d,unhideHeader:f})=>({nodeName:"TR",childNodes:n.map((m,u)=>{const p=e[u]||{type:l,format:a,sortable:!0,searchable:!0};if(p.hidden)return;const h=m.attributes?{...m.attributes}:{};if(p.sortable&&i&&(!o.length||f)&&(p.filter?h["data-filterable"]="true":h["data-sortable"]="true"),p.headerClass&&(h.class=J(h.class,p.headerClass)),t.sort&&t.sort.column===u){const N=t.sort.dir==="asc"?s.ascending:s.descending;h.class=J(h.class,N),h["aria-sort"]=t.sort.dir==="asc"?"ascending":"descending"}else t.filters[u]&&(h.class=J(h.class,s.filterActive));if(t.widths[u]&&!d){const N=`width: ${t.widths[u]}%;`;h.style=J(h.style,N)}if(o.length&&!f){const N="padding-bottom: 0;padding-top: 0;border: 0;";h.style=J(h.style,N)}const y=m.type==="html"?m.data:[{nodeName:"#text",data:m.text??String(m.data)}];return{nodeName:"TH",attributes:h,childNodes:!r&&!o.length||f?p.sortable&&i?[{nodeName:"BUTTON",attributes:{class:p.filter?s.filter:s.sorter},childNodes:y}]:y:[{nodeName:"#text",data:""}]}}).filter(m=>m)}),Re=(n,e,t,s,a,r,{classes:i,hiddenHeader:o,header:l,footer:d,format:f,sortable:m,scrollY:u,type:p,rowRender:h,tabIndex:y},{noColumnWidths:N,unhideHeader:V,renderHeader:c},_,A)=>{const S={nodeName:"TABLE",attributes:{...n},childNodes:[{nodeName:"TBODY",childNodes:t.map(({row:k,index:P})=>{const M={nodeName:"TR",attributes:{...k.attributes,"data-index":String(P)},childNodes:k.cells.map((D,$)=>{const I=s[$]||{type:p,format:f,sortable:!0,searchable:!0};if(I.hidden)return;const w={nodeName:"TD",attributes:D.attributes?{...D.attributes}:{},childNodes:I.type==="html"?D.data:[{nodeName:"#text",data:W(D)}]};if(l||d||!a.widths[$]||N||(w.attributes.style=J(w.attributes.style,`width: ${a.widths[$]}%;`)),I.cellClass&&(w.attributes.class=J(w.attributes.class,I.cellClass)),I.render){const b=I.render(D.data,w,P,$);if(b){if(typeof b!="string")return b;{const g=ae(`<td>${b}</td>`);g.childNodes.length===1&&["#text","#comment"].includes(g.childNodes[0].nodeName)?w.childNodes[0].data=b:w.childNodes=g.childNodes}}}return w}).filter(D=>D)};if(P===r&&(M.attributes.class=J(M.attributes.class,i.cursor)),h){const D=h(k,M,P);if(D){if(typeof D!="string")return D;{const $=ae(`<tr>${D}</tr>`);!$.childNodes||$.childNodes.length===1&&["#text","#comment"].includes($.childNodes[0].nodeName)?M.childNodes[0].data=D:M.childNodes=$.childNodes}}}return M})}]};if(S.attributes.class=J(S.attributes.class,i.table),l||d||c){const k=Te(e,s,a,{classes:i,hiddenHeader:o,sortable:m,scrollY:u},{noColumnWidths:N,unhideHeader:V});if(l||c){const P={nodeName:"THEAD",childNodes:[k]};!u.length&&!o||V||(P.attributes={style:"height: 0px;"}),S.childNodes.unshift(P)}if(d){const P={nodeName:"TFOOT",childNodes:[l?structuredClone(k):k]};!u.length&&!o||V||(P.attributes={style:"height: 0px;"}),S.childNodes.push(P)}}return _.forEach(k=>S.childNodes.push(k)),A.forEach(k=>S.childNodes.push(k)),y!==!1&&(S.attributes.tabindex=String(y)),S};function qe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var de=qe(function(){var n=1e3,e=6e4,t=36e5,s="millisecond",a="second",r="minute",i="hour",o="day",l="week",d="month",f="quarter",m="year",u="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var b=["th","st","nd","rd"],g=w%100;return"["+w+(b[(g-20)%10]||b[g]||b[0])+"]"}},V=function(w,b,g){var x=String(w);return!x||x.length>=b?w:""+Array(b+1-x.length).join(g)+w},c={s:V,z:function(w){var b=-w.utcOffset(),g=Math.abs(b),x=Math.floor(g/60),v=g%60;return(b<=0?"+":"-")+V(x,2,"0")+":"+V(v,2,"0")},m:function w(b,g){if(b.date()<g.date())return-w(g,b);var x=12*(g.year()-b.year())+(g.month()-b.month()),v=b.clone().add(x,d),E=g-v<0,O=b.clone().add(x+(E?-1:1),d);return+(-(x+(g-v)/(E?v-O:O-v))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:d,y:m,w:l,d:o,D:u,h:i,m:r,s:a,ms:s,Q:f}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},_="en",A={};A[_]=N;var S="$isDayjsObject",k=function(w){return w instanceof $||!(!w||!w[S])},P=function w(b,g,x){var v;if(!b)return _;if(typeof b=="string"){var E=b.toLowerCase();A[E]&&(v=E),g&&(A[E]=g,v=E);var O=b.split("-");if(!v&&O.length>1)return w(O[0])}else{var C=b.name;A[C]=b,v=C}return!x&&v&&(_=v),v||!x&&_},M=function(w,b){if(k(w))return w.clone();var g=typeof b=="object"?b:{};return g.date=w,g.args=arguments,new $(g)},D=c;D.l=P,D.i=k,D.w=function(w,b){return M(w,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var $=function(){function w(g){this.$L=P(g.locale,null,!0),this.parse(g),this.$x=this.$x||g.x||{},this[S]=!0}var b=w.prototype;return b.parse=function(g){this.$d=function(x){var v=x.date,E=x.utc;if(v===null)return new Date(NaN);if(D.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var O=v.match(h);if(O){var C=O[2]-1||0,Y=(O[7]||"0").substring(0,3);return E?new Date(Date.UTC(O[1],C,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Y)):new Date(O[1],C,O[3]||1,O[4]||0,O[5]||0,O[6]||0,Y)}}return new Date(v)}(g),this.init()},b.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},b.$utils=function(){return D},b.isValid=function(){return this.$d.toString()!==p},b.isSame=function(g,x){var v=M(g);return this.startOf(x)<=v&&v<=this.endOf(x)},b.isAfter=function(g,x){return M(g)<this.startOf(x)},b.isBefore=function(g,x){return this.endOf(x)<M(g)},b.$g=function(g,x,v){return D.u(g)?this[x]:this.set(v,g)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(g,x){var v=this,E=!!D.u(x)||x,O=D.p(g),C=function(z,Z){var U=D.w(v.$u?Date.UTC(v.$y,Z,z):new Date(v.$y,Z,z),v);return E?U:U.endOf(o)},Y=function(z,Z){return D.w(v.toDate()[z].apply(v.toDate("s"),(E?[0,0,0,0]:[23,59,59,999]).slice(Z)),v)},B=this.$W,F=this.$M,q=this.$D,ee="set"+(this.$u?"UTC":"");switch(O){case m:return E?C(1,0):C(31,11);case d:return E?C(1,F):C(0,F+1);case l:var Q=this.$locale().weekStart||0,X=(B<Q?B+7:B)-Q;return C(E?q-X:q+(6-X),F);case o:case u:return Y(ee+"Hours",0);case i:return Y(ee+"Minutes",1);case r:return Y(ee+"Seconds",2);case a:return Y(ee+"Milliseconds",3);default:return this.clone()}},b.endOf=function(g){return this.startOf(g,!1)},b.$set=function(g,x){var v,E=D.p(g),O="set"+(this.$u?"UTC":""),C=(v={},v[o]=O+"Date",v[u]=O+"Date",v[d]=O+"Month",v[m]=O+"FullYear",v[i]=O+"Hours",v[r]=O+"Minutes",v[a]=O+"Seconds",v[s]=O+"Milliseconds",v)[E],Y=E===o?this.$D+(x-this.$W):x;if(E===d||E===m){var B=this.clone().set(u,1);B.$d[C](Y),B.init(),this.$d=B.set(u,Math.min(this.$D,B.daysInMonth())).$d}else C&&this.$d[C](Y);return this.init(),this},b.set=function(g,x){return this.clone().$set(g,x)},b.get=function(g){return this[D.p(g)]()},b.add=function(g,x){var v,E=this;g=Number(g);var O=D.p(x),C=function(F){var q=M(E);return D.w(q.date(q.date()+Math.round(F*g)),E)};if(O===d)return this.set(d,this.$M+g);if(O===m)return this.set(m,this.$y+g);if(O===o)return C(1);if(O===l)return C(7);var Y=(v={},v[r]=e,v[i]=t,v[a]=n,v)[O]||1,B=this.$d.getTime()+g*Y;return D.w(B,this)},b.subtract=function(g,x){return this.add(-1*g,x)},b.format=function(g){var x=this,v=this.$locale();if(!this.isValid())return v.invalidDate||p;var E=g||"YYYY-MM-DDTHH:mm:ssZ",O=D.z(this),C=this.$H,Y=this.$m,B=this.$M,F=v.weekdays,q=v.months,ee=v.meridiem,Q=function(Z,U,K,te){return Z&&(Z[U]||Z(x,E))||K[U].slice(0,te)},X=function(Z){return D.s(C%12||12,Z,"0")},z=ee||function(Z,U,K){var te=Z<12?"AM":"PM";return K?te.toLowerCase():te};return E.replace(y,function(Z,U){return U||function(K){switch(K){case"YY":return String(x.$y).slice(-2);case"YYYY":return D.s(x.$y,4,"0");case"M":return B+1;case"MM":return D.s(B+1,2,"0");case"MMM":return Q(v.monthsShort,B,q,3);case"MMMM":return Q(q,B);case"D":return x.$D;case"DD":return D.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return Q(v.weekdaysMin,x.$W,F,2);case"ddd":return Q(v.weekdaysShort,x.$W,F,3);case"dddd":return F[x.$W];case"H":return String(C);case"HH":return D.s(C,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return z(C,Y,!0);case"A":return z(C,Y,!1);case"m":return String(Y);case"mm":return D.s(Y,2,"0");case"s":return String(x.$s);case"ss":return D.s(x.$s,2,"0");case"SSS":return D.s(x.$ms,3,"0");case"Z":return O}return null}(Z)||O.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(g,x,v){var E,O=this,C=D.p(x),Y=M(g),B=(Y.utcOffset()-this.utcOffset())*e,F=this-Y,q=function(){return D.m(O,Y)};switch(C){case m:E=q()/12;break;case d:E=q();break;case f:E=q()/3;break;case l:E=(F-B)/6048e5;break;case o:E=(F-B)/864e5;break;case i:E=F/t;break;case r:E=F/e;break;case a:E=F/n;break;default:E=F}return v?E:D.a(E)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return A[this.$L]},b.locale=function(g,x){if(!g)return this.$L;var v=this.clone(),E=P(g,x,!0);return E&&(v.$L=E),v},b.clone=function(){return D.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},w}(),I=$.prototype;return M.prototype=I,[["$ms",s],["$s",a],["$m",r],["$H",i],["$W",o],["$M",d],["$y",m],["$D",u]].forEach(function(w){I[w[1]]=function(b){return this.$g(b,w[0],w[1])}}),M.extend=function(w,b){return w.$i||(w(b,$,M),w.$i=!0),M},M.locale=P,M.isDayjs=k,M.unix=function(w){return M(1e3*w)},M.en=A[_],M.Ls=A,M.p={},M}()),yt=qe(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,r={},i=function(p){return(p=+p)+(p>68?1900:2e3)},o=function(p){return function(h){this[p]=+h}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(h){if(!h||h==="Z")return 0;var y=h.match(/([+-]|\d\d)/g),N=60*y[1]+(+y[2]||0);return N===0?0:y[0]==="+"?-N:N}(p)}],d=function(p){var h=r[p];return h&&(h.indexOf?h:h.s.concat(h.f))},f=function(p,h){var y,N=r.meridiem;if(N){for(var V=1;V<=24;V+=1)if(p.indexOf(N(V,0,h))>-1){y=V>12;break}}else y=p===(h?"pm":"PM");return y},m={A:[a,function(p){this.afternoon=f(p,!1)}],a:[a,function(p){this.afternoon=f(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[t,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,o("seconds")],ss:[s,o("seconds")],m:[s,o("minutes")],mm:[s,o("minutes")],H:[s,o("hours")],h:[s,o("hours")],HH:[s,o("hours")],hh:[s,o("hours")],D:[s,o("day")],DD:[t,o("day")],Do:[a,function(p){var h=r.ordinal,y=p.match(/\d+/);if(this.day=y[0],h)for(var N=1;N<=31;N+=1)h(N).replace(/\[|\]/g,"")===p&&(this.day=N)}],M:[s,o("month")],MM:[t,o("month")],MMM:[a,function(p){var h=d("months"),y=(d("monthsShort")||h.map(function(N){return N.slice(0,3)})).indexOf(p)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(p){var h=d("months").indexOf(p)+1;if(h<1)throw new Error;this.month=h%12||h}],Y:[/[+-]?\d+/,o("year")],YY:[t,function(p){this.year=i(p)}],YYYY:[/\d{4}/,o("year")],Z:l,ZZ:l};function u(p){var h,y;h=p,y=r&&r.formats;for(var N=(p=h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,M,D){var $=D&&D.toUpperCase();return M||y[D]||n[D]||y[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(I,w,b){return w||b.slice(1)})})).match(e),V=N.length,c=0;c<V;c+=1){var _=N[c],A=m[_],S=A&&A[0],k=A&&A[1];N[c]=k?{regex:S,parser:k}:_.replace(/^\[|\]$/g,"")}return function(P){for(var M={},D=0,$=0;D<V;D+=1){var I=N[D];if(typeof I=="string")$+=I.length;else{var w=I.regex,b=I.parser,g=P.slice($),x=w.exec(g)[0];b.call(M,x),P=P.replace(x,"")}}return function(v){var E=v.afternoon;if(E!==void 0){var O=v.hours;E?O<12&&(v.hours+=12):O===12&&(v.hours=0),delete v.afternoon}}(M),M}}return function(p,h,y){y.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(i=p.parseTwoDigitYear);var N=h.prototype,V=N.parse;N.parse=function(c){var _=c.date,A=c.utc,S=c.args;this.$u=A;var k=S[1];if(typeof k=="string"){var P=S[2]===!0,M=S[3]===!0,D=P||M,$=S[2];M&&($=S[2]),r=this.$locale(),!P&&$&&(r=y.Ls[$]),this.$d=function(g,x,v){try{if(["x","X"].indexOf(x)>-1)return new Date((x==="X"?1e3:1)*g);var E=u(x)(g),O=E.year,C=E.month,Y=E.day,B=E.hours,F=E.minutes,q=E.seconds,ee=E.milliseconds,Q=E.zone,X=new Date,z=Y||(O||C?1:X.getDate()),Z=O||X.getFullYear(),U=0;O&&!C||(U=C>0?C-1:X.getMonth());var K=B||0,te=F||0,ge=q||0,be=ee||0;return Q?new Date(Date.UTC(Z,U,z,K,te,ge,be+60*Q.offset*1e3)):v?new Date(Date.UTC(Z,U,z,K,te,ge,be)):new Date(Z,U,z,K,te,ge,be)}catch{return new Date("")}}(_,k,A),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),D&&_!=this.format(k)&&(this.$d=new Date("")),r={}}else if(k instanceof Array)for(var I=k.length,w=1;w<=I;w+=1){S[1]=k[w-1];var b=y.apply(this,S);if(b.isValid()){this.$d=b.$d,this.$L=b.$L,this.init();break}w===I&&(this.$d=new Date(""))}else V.call(this,c)}}}());de.extend(yt);const Ue=(n,e)=>{let t;if(e)switch(e){case"ISO_8601":t=n;break;case"RFC_2822":t=de(n.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":t=de(n,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":t=de(n).unix();break;default:t=de(n,e,!0).valueOf()}return t},ie=(n,e)=>{if((n==null?void 0:n.constructor)===Object&&Object.prototype.hasOwnProperty.call(n,"data")&&!Object.keys(n).find(s=>!["text","order","data","attributes"].includes(s)))return n;const t={data:n};switch(e.type){case"string":typeof n!="string"&&(t.text=String(t.data),t.order=t.text);break;case"date":e.format&&(t.order=Ue(String(t.data),e.format));break;case"number":t.text=String(t.data),t.data=parseFloat(t.data),t.order=t.data;break;case"html":{const s=Array.isArray(t.data)?{nodeName:"TD",childNodes:t.data}:ae(`<td>${String(t.data)}</td>`);t.data=s.childNodes||[];const a=ue(s);t.text=a,t.order=a;break}case"boolean":typeof t.data=="string"&&(t.data=t.data.toLowerCase().trim()),t.data=!["false",!1,null,void 0,0].includes(t.data),t.order=t.data?1:0,t.text=String(t.data);break;case"other":t.text="",t.order=0;break;default:t.text=JSON.stringify(t.data)}return t},ce=n=>{if(n instanceof Object&&n.constructor===Object&&n.hasOwnProperty("data")&&(typeof n.text=="string"||typeof n.data=="string"))return n;const e={data:n};if(typeof n=="string"){if(n.length){const t=ae(`<th>${n}</th>`);if(t.childNodes&&(t.childNodes.length!==1||t.childNodes[0].nodeName!=="#text")){e.data=t.childNodes,e.type="html";const s=ue(t);e.text=s}}}else[null,void 0].includes(n)?e.text="":e.text=JSON.stringify(n);return e},Be=(n,e=void 0,t,s,a)=>{var i,o;const r={data:[],headings:[]};if(n.headings)r.headings=n.headings.map(l=>ce(l));else if(e!=null&&e.tHead)r.headings=Array.from(e.tHead.querySelectorAll("th")).map((l,d)=>{var u,p,h,y,N;const f=(V=>{const c=ne(V,{valueDiffing:!1});let _;return _=!c.childNodes||c.childNodes.length===1&&c.childNodes[0].nodeName==="#text"?{data:V.innerText,type:"string"}:{data:c.childNodes,type:"html",text:ue(c)},_.attributes=c.attributes,_})(l);t[d]||(t[d]={type:s,format:a,searchable:!0,sortable:!0});const m=t[d];return((u=l.dataset.sortable)==null?void 0:u.trim().toLowerCase())!=="false"&&((p=l.dataset.sort)==null?void 0:p.trim().toLowerCase())!=="false"||(m.sortable=!1),((h=l.dataset.searchable)==null?void 0:h.trim().toLowerCase())==="false"&&(m.searchable=!1),((y=l.dataset.hidden)==null?void 0:y.trim().toLowerCase())!=="true"&&((N=l.getAttribute("hidden"))==null?void 0:N.trim().toLowerCase())!=="true"||(m.hidden=!0),["number","string","html","date","boolean","other"].includes(l.dataset.type)&&(m.type=l.dataset.type,m.type==="date"&&l.dataset.format&&(m.format=l.dataset.format)),f});else if((i=n.data)!=null&&i.length){const l=n.data[0],d=Array.isArray(l)?l:l.cells;r.headings=d.map(f=>ce(""))}else e!=null&&e.tBodies.length&&(r.headings=Array.from(e.tBodies[0].rows[0].cells).map(l=>ce("")));for(let l=0;l<r.headings.length;l++)t[l]||(t[l]={type:s,format:a,sortable:!0,searchable:!0});if(n.data){const l=r.headings.map(d=>d.data?String(d.data):d.text);r.data=n.data.map(d=>{let f,m;return Array.isArray(d)?(f={},m=d):d.hasOwnProperty("cells")&&Object.keys(d).every(u=>["cells","attributes"].includes(u))?(f=d.attributes,m=d.cells):(f={},m=[],Object.entries(d).forEach(([u,p])=>{const h=l.indexOf(u);h>-1&&(m[h]=p)})),{attributes:f,cells:m.map((u,p)=>ie(u,t[p]))}})}else(o=e==null?void 0:e.tBodies)!=null&&o.length&&(r.data=Array.from(e.tBodies[0].rows).map(l=>({attributes:Pe(l.attributes),cells:Array.from(l.cells).map((d,f)=>{const m=d.dataset.content?ie(d.dataset.content,t[f]):((u,p)=>{let h;switch(p.type){case"string":h={data:u.innerText};break;case"date":{const y=u.innerText;h={data:y,order:Ue(y,p.format)};break}case"number":{const y=parseFloat(u.innerText);h={data:y,order:y,text:u.innerText};break}case"boolean":{const y=!["false","0","null","undefined"].includes(u.innerText.toLowerCase().trim());h={data:y,text:y?"1":"0",order:y?1:0};break}default:h={data:ne(u,{valueDiffing:!1}).childNodes||[],text:u.innerText,order:u.innerText}}return h.attributes=Pe(u.attributes),h})(d,t[f]);return d.dataset.order&&(m.order=isNaN(parseFloat(d.dataset.order))?d.dataset.order:parseFloat(d.dataset.order)),m})})));if(r.data.length&&r.data[0].cells.length!==r.headings.length)throw new Error("Data heading length mismatch.");return r};class xt{constructor(e){L(this,"cursor");L(this,"dt");this.dt=e,this.cursor=!1}setCursor(e=!1){if(e===this.cursor)return;const t=this.cursor;if(this.cursor=e,this.dt._renderTable(),e!==!1&&this.dt.options.scrollY){const s=se(this.dt.options.classes.cursor),a=this.dt.dom.querySelector(`tr${s}`);a&&a.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,t)}add(e){if(!Array.isArray(e)||e.length<1)return;const t={cells:e.map((s,a)=>{const r=this.dt.columns.settings[a];return ie(s,r)})};this.dt.data.data.push(t),this.dt.hasRows=!0,this.dt.update(!0)}remove(e){if(!Array.isArray(e))return this.remove([e]);this.dt.data.data=this.dt.data.data.filter((t,s)=>!e.includes(s)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(e,t){return this.dt.data.data.findIndex(s=>{const a=s.cells[e];return W(a).toLowerCase().includes(String(t).toLowerCase())})}findRow(e,t){const s=this.findRowIndex(e,t);if(s<0)return{index:-1,row:null,cols:[]};const a=this.dt.data.data[s],r=a.cells.map(i=>i.data);return{index:s,row:a,cols:r}}updateRow(e,t){const s={cells:t.map((a,r)=>{const i=this.dt.columns.settings[r];return ie(a,i)})};this.dt.data.data.splice(e,1,s),this.dt.update(!0)}}class Nt{constructor(e){L(this,"dt");L(this,"settings");L(this,"_state");this.dt=e,this.init()}init(){[this.settings,this._state]=((e=[],t,s)=>{let a=[],r=!1;const i=[];return e.forEach(o=>{(Array.isArray(o.select)?o.select:[o.select]).forEach(l=>{a[l]?o.type&&(a[l].type=o.type):a[l]={type:o.type||t,sortable:!0,searchable:!0};const d=a[l];o.render&&(d.render=o.render),o.format?d.format=o.format:o.type==="date"&&(d.format=s),o.cellClass&&(d.cellClass=o.cellClass),o.headerClass&&(d.headerClass=o.headerClass),o.locale&&(d.locale=o.locale),o.sortable===!1?d.sortable=!1:(o.numeric&&(d.numeric=o.numeric),o.caseFirst&&(d.caseFirst=o.caseFirst)),o.searchable===!1?d.searchable=!1:o.sensitivity&&(d.sensitivity=o.sensitivity),(d.searchable||d.sortable)&&o.ignorePunctuation!==void 0&&(d.ignorePunctuation=o.ignorePunctuation),o.hidden&&(d.hidden=!0),o.filter&&(d.filter=o.filter),o.sortSequence&&(d.sortSequence=o.sortSequence),o.sort&&(o.filter?i[l]=o.sort:r={column:l,dir:o.sort}),o.searchItemSeparator!==void 0&&(d.searchItemSeparator=o.searchItemSeparator)})}),a=a.map(o=>o||{type:t,format:t==="date"?s:void 0,sortable:!0,searchable:!0}),[a,{filters:i,sort:r,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(e){return e<0||e>=this.size()?null:{...this.settings[e]}}size(){return this.settings.length}swap(e){if(e.length===2){const t=this.dt.data.headings.map((i,o)=>o),s=e[0],a=e[1],r=t[a];return t[a]=t[s],t[s]=r,this.order(t)}}order(e){this.dt.data.headings=e.map(t=>this.dt.data.headings[t]),this.dt.data.data.forEach(t=>t.cells=e.map(s=>t.cells[s])),this.settings=e.map(t=>this.settings[t]),this.dt.update()}hide(e){Array.isArray(e)||(e=[e]),e.length&&(e.forEach(t=>{this.settings[t]||(this.settings[t]={type:"string"}),this.settings[t].hidden=!0}),this.dt.update())}show(e){Array.isArray(e)||(e=[e]),e.length&&(e.forEach(t=>{this.settings[t]||(this.settings[t]={type:"string",sortable:!0}),delete this.settings[t].hidden}),this.dt.update())}visible(e){var t;return e===void 0&&(e=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(e)?e.map(s=>{var a;return!((a=this.settings[s])!=null&&a.hidden)}):!((t=this.settings[e])!=null&&t.hidden)}add(e){const t=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([ce(e.heading)]),this.dt.data.data.forEach((s,a)=>{s.cells=s.cells.concat([ie(e.data[a],e)])}),this.settings[t]={type:e.type||"string",sortable:!0,searchable:!0},e.type||e.format||e.sortable||e.render||e.filter){const s=this.settings[t];e.render&&(s.render=e.render),e.format&&(s.format=e.format),e.cellClass&&(s.cellClass=e.cellClass),e.headerClass&&(s.headerClass=e.headerClass),e.locale&&(s.locale=e.locale),e.sortable===!1?s.sortable=!1:(e.numeric&&(s.numeric=e.numeric),e.caseFirst&&(s.caseFirst=e.caseFirst)),e.searchable===!1?s.searchable=!1:e.sensitivity&&(s.sensitivity=e.sensitivity),(s.searchable||s.sortable)&&e.ignorePunctuation&&(s.ignorePunctuation=e.ignorePunctuation),e.hidden&&(s.hidden=!0),e.filter&&(s.filter=e.filter),e.sortSequence&&(s.sortSequence=e.sortSequence)}this.dt.update(!0)}remove(e){Array.isArray(e)||(e=[e]),this.dt.data.headings=this.dt.data.headings.filter((t,s)=>!e.includes(s)),this.dt.data.data.forEach(t=>t.cells=t.cells.filter((s,a)=>!e.includes(a))),this.dt.update(!0)}filter(e,t=!1){var r,i;if(!((i=(r=this.settings[e])==null?void 0:r.filter)!=null&&i.length))return;const s=this._state.filters[e];let a;if(s){let o=!1;a=this.settings[e].filter.find(l=>!!o||(l===s&&(o=!0),!1))}else{const o=this.settings[e].filter;a=o?o[0]:void 0}a?this._state.filters[e]=a:s&&(this._state.filters[e]=void 0),this.dt._currentPage=1,this.dt.update(),t||this.dt.emit("datatable.filter",e,a)}sort(e,t=void 0,s=!1){var i;const a=this.settings[e];if(s||this.dt.emit("datatable.sorting",e,t),!t){const o=!(!this._state.sort||this._state.sort.column!==e)&&((i=this._state.sort)==null?void 0:i.dir),l=(a==null?void 0:a.sortSequence)||["asc","desc"];if(o){const d=l.indexOf(o);t=d===-1?l[0]||"asc":d===l.length-1?l[0]:l[d+1]}else t=l.length?l[0]:"asc"}const r=!!["string","html"].includes(a.type)&&new Intl.Collator(a.locale||this.dt.options.locale,{usage:"sort",numeric:a.numeric||this.dt.options.numeric,caseFirst:a.caseFirst||this.dt.options.caseFirst,ignorePunctuation:a.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((o,l)=>{const d=o.cells[e],f=l.cells[e];let m=d.order??W(d),u=f.order??W(f);if(t==="desc"){const p=m;m=u,u=p}return r&&typeof m!="number"&&typeof u!="number"?r.compare(String(m),String(u)):m<u?-1:m>u?1:0}),this._state.sort={column:e,dir:t},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",e,t)):s||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",e,t))}_measureWidths(){var t,s,a,r;const e=this.dt.data.headings.filter((i,o)=>{var l;return!((l=this.settings[o])!=null&&l.hidden)});if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(e!=null&&e.length)){this._state.widths=[];const i={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(i.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),i.noColumnWidths=!0,this.dt._renderTable(i);const o=Array.from(((s=(t=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:t.firstElementChild)==null?void 0:s.querySelectorAll("th"))||[]);let l=0;const d=this.dt.data.headings.map((m,u)=>{var h;if((h=this.settings[u])!=null&&h.hidden)return 0;const p=o[l].offsetWidth;return l+=1,p}),f=d.reduce((m,u)=>m+u,0);this._state.widths=d.map(m=>m/f*100)}else{i.renderHeader=!0,this.dt._renderTable(i);const o=Array.from(((r=(a=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:a.firstElementChild)==null?void 0:r.querySelectorAll("th"))||[]);let l=0;const d=this.dt.data.headings.map((m,u)=>{var h;if((h=this.settings[u])!=null&&h.hidden)return 0;const p=o[l].offsetWidth;return l+=1,p}),f=d.reduce((m,u)=>m+u,0);this._state.widths=d.map(m=>m/f*100)}this.dt._renderTable()}}}const pe={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"",nextText:"",firstText:"",lastText:"",ellipsisText:"",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:void 0,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(n,e)=>`<div class='${n.classes.top}'>
    ${n.paging&&n.perPageSelect?`<div class='${n.classes.dropdown}'>
            <label>
                <select class='${n.classes.selector}' name="per-page"></select> ${n.labels.perPage}
            </label>
        </div>`:""}
    ${n.searchable?`<div class='${n.classes.search}'>
            <input class='${n.classes.input}' placeholder='${n.labels.placeholder}' type='search' name="search" title='${n.labels.searchTitle}'${e.id?` aria-controls="${e.id}"`:""}>
        </div>`:""}
</div>
<div class='${n.classes.container}'${n.scrollY.length?` style='height: ${n.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${n.classes.bottom}'>
    ${n.paging?`<div class='${n.classes.info}'></div>`:""}
    <nav class='${n.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},le=(n,e,t,s={})=>({nodeName:"LI",attributes:{class:s.active&&!s.hidden?`${t.classes.paginationListItem} ${t.classes.active}`:s.hidden?`${t.classes.paginationListItem} ${t.classes.hidden} ${t.classes.disabled}`:t.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(n),class:t.classes.paginationListItemLink,"aria-label":t.labels.pageTitle.replace("{page}",String(n))},childNodes:[{nodeName:"#text",data:e}]}]}),Dt=(n,e,t,s,a)=>{let r=[];if(a.firstLast&&r.push(le(1,a.firstText,a)),a.nextPrev){const o=n?1:t-1;r.push(le(o,a.prevText,a,{hidden:n}))}let i=[...Array(s).keys()].map(o=>le(o+1,String(o+1),a,{active:o===t-1}));if(a.truncatePager&&(i=((o,l,d,f)=>{const m=f.pagerDelta,u=f.classes,p=f.ellipsisText,h=2*m;let y=l-m,N=l+m;l<4-m+h?N=3+h:l>d-(3-m+h)&&(y=d-(2+h));const V=[];for(let A=1;A<=d;A++)if(A==1||A==d||A>=y&&A<=N){const S=o[A-1];V.push(S)}let c;const _=[];return V.forEach(A=>{const S=parseInt(A.childNodes[0].attributes["data-page"],10);if(c){const k=parseInt(c.childNodes[0].attributes["data-page"],10);if(S-k==2)_.push(o[k]);else if(S-k!=1){const P={nodeName:"LI",attributes:{class:`${u.paginationListItem} ${u.ellipsis} ${u.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:u.paginationListItemLink},childNodes:[{nodeName:"#text",data:p}]}]};_.push(P)}}_.push(A),c=A}),_})(i,t,s,a)),r=r.concat(i),a.nextPrev){const o=e?s:t+1;r.push(le(o,a.nextText,a,{hidden:e}))}return a.firstLast&&r.push(le(s,a.lastText,a)),{nodeName:"UL",attributes:{class:a.classes.paginationList},childNodes:i.length>1?r:[]}};class je{constructor(e,t={}){L(this,"columns");L(this,"containerDOM");L(this,"_currentPage");L(this,"data");L(this,"_dd");L(this,"dom");L(this,"_events");L(this,"hasHeadings");L(this,"hasRows");L(this,"headerDOM");L(this,"_initialHTML");L(this,"initialized");L(this,"_label");L(this,"lastPage");L(this,"_listeners");L(this,"onFirstPage");L(this,"onLastPage");L(this,"options");L(this,"_pagerDOMs");L(this,"_virtualPagerDOM");L(this,"pages");L(this,"_rect");L(this,"rows");L(this,"_searchData");L(this,"_searchQueries");L(this,"_tableAttributes");L(this,"_tableFooters");L(this,"_tableCaptions");L(this,"totalPages");L(this,"_virtualDOM");L(this,"_virtualHeaderDOM");L(this,"wrapperDOM");const s=typeof e=="string"?document.querySelector(e):e;s instanceof HTMLTableElement?this.dom=s:(this.dom=document.createElement("table"),s.appendChild(this.dom));const a={...pe.diffDomOptions,...t.diffDomOptions},r={...pe.labels,...t.labels},i={...pe.classes,...t.classes};this.options={...pe,...t,diffDomOptions:a,labels:r,classes:i},this._initialHTML=this.options.destroyable?s.outerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new wt(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){var e,t;if(this.initialized||xe(this.dom,this.options.classes.table))return!1;this._virtualDOM=ne(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=((e=this._virtualDOM.childNodes)==null?void 0:e.filter(s=>s.nodeName==="TFOOT"))??[],this._tableCaptions=((t=this._virtualDOM.childNodes)==null?void 0:t.filter(s=>s.nodeName==="CAPTION"))??[],this.options.caption!==void 0&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new xt(this),this.columns=new Nt(this),this.data=Be(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=ye("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const e=se(this.options.classes.selector),t=this.wrapperDOM.querySelector(`select${e}`);t&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(i=>{const[o,l]=Array.isArray(i)?[i[0],i[1]]:[String(i),i],d=l===this.options.perPage,f=new Option(o,String(l),d,d);t.appendChild(f)}):t&&t.parentElement.removeChild(t);const s=se(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(s),this._pagerDOMs=[];const a=se(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(a)).forEach(i=>{i instanceof HTMLElement&&(i.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(i.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};const r=se(this.options.classes.info);this._label=this.wrapperDOM.querySelector(r),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(e={}){let t;t=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!e.noPaging?this.pages[this._currentPage-1]:this.data.data.map((r,i)=>({row:r,index:i}));let s=Re(this._tableAttributes,this.data.headings,t,this.columns.settings,this.columns._state,this.rows.cursor,this.options,e,this._tableFooters,this._tableCaptions);if(this.options.tableRender){const r=this.options.tableRender(this.data,s,"main");r&&(s=r)}const a=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,a),this._virtualDOM=s}_renderPage(e=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let t,s=0,a=0,r=0;if(this.totalPages&&(s=this._currentPage-1,a=s*this.options.perPage,r=a+this.pages[s].length,a+=1,t=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const i=this.options.labels.info.replace("{start}",String(a)).replace("{end}",String(r)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(t));this._label.innerHTML=t?i:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(i=>i.index===this.rows.cursor))){const i=this.pages[this._currentPage-1];i.length&&(e?this.rows.setCursor(i[i.length-1].index):this.rows.setCursor(i[0].index))}}_renderPagers(){if(!this.options.paging)return;let e=Dt(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const s=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],e);s&&(e=s)}const t=this._dd.diff(this._virtualPagerDOM,e);this._pagerDOMs.forEach(s=>{this._dd.apply(s,t)}),this._virtualPagerDOM=e}_renderSeparateHeader(){const e=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),e.parentElement.insertBefore(this.headerDOM,e);let t={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[Te(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(t.attributes.class=J(t.attributes.class,this.options.classes.table),this.options.tableRender){const i=this.options.tableRender(this.data,t,"header");i&&(t=i)}const s={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[t]},a=this._dd.diff(this._virtualHeaderDOM,s);this._dd.apply(this.headerDOM,a),this._virtualHeaderDOM=s;const r=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(r){const i=structuredClone(this._virtualHeaderDOM);i.attributes.style=`padding-right: ${r}px;`;const o=this._dd.diff(this._virtualHeaderDOM,i);this._dd.apply(this.headerDOM,o),this._virtualHeaderDOM=i}e.scrollHeight>e.clientHeight&&(e.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const e=se(this.options.classes.selector),t=this.wrapperDOM.querySelector(e);t&&t instanceof HTMLSelectElement&&t.addEventListener("change",()=>{this.emit("datatable.perpage:before",this.options.perPage),this.options.perPage=parseInt(t.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",e=>{const t=se(this.options.classes.input),s=e.target;if(!(s instanceof HTMLInputElement&&s.matches(t)))return;e.preventDefault();const a=[];if(Array.from(this.wrapperDOM.querySelectorAll(t)).filter(r=>r.value.length).forEach(r=>{const i=r.dataset.and||this.options.searchAnd,o=r.dataset.querySeparator||this.options.searchQuerySeparator?r.value.split(this.options.searchQuerySeparator):[r.value];i?o.forEach(l=>{r.dataset.columns?a.push({terms:[l],columns:JSON.parse(r.dataset.columns)}):a.push({terms:[l],columns:void 0})}):r.dataset.columns?a.push({terms:o,columns:JSON.parse(r.dataset.columns)}):a.push({terms:o,columns:void 0})}),a.length===1&&a[0].terms.length===1){const r=a[0];this.search(r.terms[0],r.columns)}else this.multiSearch(a)}),this.wrapperDOM.addEventListener("click",e=>{const t=e.target.closest("a, button");if(t){if(t.hasAttribute("data-page"))this.page(parseInt(t.getAttribute("data-page"),10)),e.preventDefault();else if(xe(t,this.options.classes.sorter)){const s=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),a=Ce(s,this.columns.settings);this.columns.sort(a),e.preventDefault()}else if(xe(t,this.options.classes.filter)){const s=Array.from(t.parentElement.parentElement.children).indexOf(t.parentElement),a=Ce(s,this.columns.settings);this.columns.filter(a),e.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",e=>{if(e.key==="ArrowUp"){let t;e.preventDefault(),e.stopPropagation(),this.pages[this._currentPage-1].find(s=>s.index===this.rows.cursor||(t=s,!1)),t?this.rows.setCursor(t.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(e.key==="ArrowDown"){let t;e.preventDefault(),e.stopPropagation();const s=this.pages[this._currentPage-1].find(a=>!!t||(a.index===this.rows.cursor&&(t=!0),!1));s?this.rows.setCursor(s.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(e.key)&&this.emit("datatable.selectrow",this.rows.cursor,e)}),this.dom.addEventListener("mousedown",e=>{const t=e.target;if(t instanceof Element&&this.dom.matches(":focus")){const s=Array.from(this.dom.querySelectorAll("tbody > tr")).find(a=>a.contains(t));s&&s instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(s.dataset.index,10),e)}})):this.dom.addEventListener("mousedown",e=>{const t=e.target;if(!(t instanceof Element))return;const s=Array.from(this.dom.querySelectorAll("tbody > tr")).find(a=>a.contains(t));s&&s instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(s.dataset.index,10),e)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){var e;if(this.options.destroyable){if(this.wrapperDOM){const t=this.wrapperDOM.parentElement;if(t){const s=ye("div");s.innerHTML=this._initialHTML;const a=s.firstElementChild;t.replaceChild(a,this.wrapperDOM),this.dom=a}else(e=this.options.classes.table)==null||e.split(" ").forEach(s=>this.wrapperDOM.classList.remove(s))}window.removeEventListener("resize",this._listeners.onResize),this.initialized=!1}}update(e=!1){var t;this.emit("datatable.update:before"),e&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),(t=this.options.classes.empty)==null||t.split(" ").forEach(s=>this.wrapperDOM.classList.remove(s)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let e=this.data.data.map((t,s)=>({row:t,index:s}));return this._searchQueries.length&&(e=[],this._searchData.forEach(t=>e.push({index:t,row:this.data.data[t]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((t,s)=>{t&&(e=e.filter(a=>{const r=a.row.cells[s];return typeof t=="function"?t(r.data):W(r)===t}))}),this.options.paging&&this.options.perPage>0?this.pages=e.map((t,s)=>s%this.options.perPage==0?e.slice(s,s+this.options.perPage):null).filter(t=>t):this.pages=[e],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(e,t=void 0){if(this.emit("datatable.search:before",e,this._searchData),!e.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[e],columns:t||void 0}]),this.emit("datatable.search",e,this._searchData)}multiSearch(e){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];const t=e.map(a=>({columns:a.columns,terms:a.terms.map(r=>r.trim()).filter(r=>r)})).filter(a=>a.terms.length);if(this.emit("datatable.multisearch:before",t,this._searchData),this._searchQueries=t,!t.length)return this.update(),this.emit("datatable.multisearch",t,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const s=t.map(a=>this.columns.settings.map((r,i)=>{if(r.hidden||!r.searchable||a.columns&&!a.columns.includes(i))return!1;let o=a.terms;const l=r.sensitivity||this.options.sensitivity;return["base","accent"].includes(l)&&(o=o.map(d=>d.toLowerCase())),["base","case"].includes(l)&&(o=o.map(d=>d.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""))),(r.ignorePunctuation??this.options.ignorePunctuation)&&(o=o.map(d=>d.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),o}));this.data.data.forEach((a,r)=>{const i=a.cells.map((o,l)=>{let d=W(o).trim();const f=this.columns.settings[l];if(d.length){const u=f.sensitivity||this.options.sensitivity;["base","accent"].includes(u)&&(d=d.toLowerCase()),["base","case"].includes(u)&&(d=d.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(f.ignorePunctuation??this.options.ignorePunctuation)&&(d=d.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}const m=f.searchItemSeparator||this.options.searchItemSeparator;return m?d.split(m):[d]});s.every(o=>o.find((l,d)=>!!l&&l.find(f=>i[d].find(m=>m.includes(f)))))&&this._searchData.push(r)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",t,this._searchData)}page(e,t=!1){return this.emit("datatable.page:before",e),e!==this._currentPage&&(isNaN(e)||(this._currentPage=e),!(e>this.pages.length||e<0)&&(this._renderPage(t),this._renderPagers(),void this.emit("datatable.page",e)))}insert(e){let t=[];if(Array.isArray(e)){const s=this.data.headings.map(a=>a.data?String(a.data):a.text);e.forEach((a,r)=>{const i=[];Object.entries(a).forEach(([o,l])=>{const d=s.indexOf(o);d>-1?i[d]=ie(l,this.columns.settings[d]):this.hasHeadings||this.hasRows||r!==0||(i[s.length]=ie(l,this.columns.settings[s.length]),s.push(o),this.data.headings.push(ce(o)))}),t.push({cells:i})})}else he(e)&&(!e.headings||this.hasHeadings||this.hasRows?e.data&&Array.isArray(e.data)&&(t=e.data.map(s=>{let a,r;return Array.isArray(s)?(a={},r=s):(a=s.attributes,r=s.cells),{attributes:a,cells:r.map((i,o)=>ie(i,this.columns.settings[o]))}})):this.data=Be(e,void 0,this.columns.settings,this.options.type,this.options.format));t.length&&t.forEach(s=>this.data.data.push(s)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.emit("datatable.refresh:before"),this.options.searchable){const e=se(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(e)).forEach(t=>t.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const e=ye("table");let t=Re(this._tableAttributes,this.data.headings,this.data.data.map((r,i)=>({row:r,index:i})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){const r=this.options.tableRender(this.data,t,"print");r&&(t=r)}const s=this._dd.diff({nodeName:"TABLE"},t);this._dd.apply(e,s);const a=window.open();a.document.body.appendChild(e),a.print()}setMessage(e){var r;const t=this.data.headings.filter((i,o)=>{var l;return!((l=this.columns.settings[o])!=null&&l.hidden)}).length||1;(r=this.options.classes.empty)==null||r.split(" ").forEach(i=>this.wrapperDOM.classList.add(i)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let s={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[Te(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(t)},childNodes:[{nodeName:"#text",data:e}]}]}]}]};if(this._tableFooters.forEach(i=>s.childNodes.push(i)),this._tableCaptions.forEach(i=>s.childNodes.push(i)),s.attributes.class=J(s.attributes.class,this.options.classes.table),this.options.tableRender){const i=this.options.tableRender(this.data,s,"message");i&&(s=i)}const a=this._dd.diff(this._virtualDOM,s);this._dd.apply(this.dom,a),this._virtualDOM=s}on(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)}off(e,t){e in this._events&&this._events[e].splice(this._events[e].indexOf(t),1)}emit(e,...t){if(e in this._events)for(let s=0;s<this._events[e].length;s++)this._events[e][s](...t)}}const Et=function(n,e={}){if(!n.hasHeadings&&!n.hasRows||!he(e))return!1;const t={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...e},s=o=>{var l;return!t.skipColumn.includes(o)&&!((l=n.columns.settings[o])!=null&&l.hidden)},a=n.data.headings.filter((o,l)=>s(l)).map(o=>o.text??o.data);let r;if(t.selection)if(Array.isArray(t.selection)){r=[];for(let o=0;o<t.selection.length;o++)r=r.concat(n.pages[t.selection[o]-1].map(l=>l.row))}else r=n.pages[t.selection-1].map(o=>o.row);else r=n.data.data;let i=[];if(i[0]=a,i=i.concat(r.map(o=>o.cells.filter((l,d)=>s(d)).map(l=>W(l)))),i.length){let o="";if(i.forEach(l=>{l.forEach(d=>{typeof d=="string"&&(d=(d=(d=(d=(d=d.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(d=`"${d}"`),o+=d+t.columnDelimiter}),o=o.trim().substring(0,o.length-1),o+=t.lineDelimiter}),o=o.trim().substring(0,o.length-1),t.download){const l=document.createElement("a");l.href=encodeURI(`data:text/csv;charset=utf-8,${o}`),l.download=`${t.filename||"datatable_export"}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l)}return o}return!1},Vt=function(n,e={}){if(!n.hasHeadings&&!n.hasRows||!he(e))return!1;const t={download:!0,skipColumn:[],replacer:null,space:4,...e},s=o=>{var l;return!t.skipColumn.includes(o)&&!((l=n.columns.settings[o])!=null&&l.hidden)};let a;if(t.selection)if(Array.isArray(t.selection)){a=[];for(let o=0;o<t.selection.length;o++)a=a.concat(n.pages[t.selection[o]-1].map(l=>l.row))}else a=n.pages[t.selection-1].map(o=>o.row);else a=n.data.data;const r=a.map(o=>o.cells.filter((l,d)=>s(d)).map(l=>W(l))),i=n.data.headings.filter((o,l)=>s(l)).map(o=>o.text??String(o.data));if(r.length){const o=[];r.forEach((d,f)=>{o[f]=o[f]||{},d.forEach((m,u)=>{o[f][i[u]]=m})});const l=JSON.stringify(o,t.replacer,t.space);if(t.download){const d=new Blob([l],{type:"data:application/json;charset=utf-8"}),f=URL.createObjectURL(d),m=document.createElement("a");m.href=f,m.download=`${t.filename||"datatable_export"}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(f)}return l}return!1},Mt=function(n,e={}){if(!n.hasHeadings&&!n.hasRows||!he(e))return!1;const t={download:!0,skipColumn:[],tableName:"myTable",...e},s=o=>{var l;return!t.skipColumn.includes(o)&&!((l=n.columns.settings[o])!=null&&l.hidden)};let a=[];if(t.selection)if(Array.isArray(t.selection))for(let o=0;o<t.selection.length;o++)a=a.concat(n.pages[t.selection[o]-1].map(l=>l.row));else a=n.pages[t.selection-1].map(o=>o.row);else a=n.data.data;const r=a.map(o=>o.cells.filter((l,d)=>s(d)).map(l=>W(l))),i=n.data.headings.filter((o,l)=>s(l)).map(o=>o.text??String(o.data));if(r.length){let o=`INSERT INTO \`${t.tableName}\` (`;if(i.forEach(l=>{o+=`\`${l}\`,`}),o=o.trim().substring(0,o.length-1),o+=") VALUES ",r.forEach(l=>{o+="(",l.forEach(d=>{o+=typeof d=="string"?`"${d}",`:`${d},`}),o=o.trim().substring(0,o.length-1),o+="),"}),o=o.trim().substring(0,o.length-1),o+=";",t.download&&(o=`data:application/sql;charset=utf-8,${o}`),t.download){const l=document.createElement("a");l.href=encodeURI(o),l.download=`${t.filename||"datatable_export"}.sql`,document.body.appendChild(l),l.click(),document.body.removeChild(l)}return o}return!1},Ot=function(n,e={}){if(!n.hasHeadings&&!n.hasRows||!he(e))return!1;const t={download:!0,skipColumn:[],lineDelimiter:`
`,columnDelimiter:",",...e},s=o=>{var l;return!t.skipColumn.includes(o)&&!((l=n.columns.settings[o])!=null&&l.hidden)},a=n.data.headings.filter((o,l)=>s(l)).map(o=>o.text??o.data);let r;if(t.selection)if(Array.isArray(t.selection)){r=[];for(let o=0;o<t.selection.length;o++)r=r.concat(n.pages[t.selection[o]-1].map(l=>l.row))}else r=n.pages[t.selection-1].map(o=>o.row);else r=n.data.data;let i=[];if(i[0]=a,i=i.concat(r.map(o=>o.cells.filter((l,d)=>s(d)).map(l=>W(l)))),i.length){let o="";if(i.forEach(l=>{l.forEach(d=>{typeof d=="string"&&(d=(d=(d=(d=(d=d.trim()).replace(/\s{2,}/g," ")).replace(/\n/g,"  ")).replace(/"/g,'""')).replace(/#/g,"%23")).includes(",")&&(d=`"${d}"`),o+=d+t.columnDelimiter}),o=o.trim().substring(0,o.length-1),o+=t.lineDelimiter}),o=o.trim().substring(0,o.length-1),t.download&&(o=`data:text/csv;charset=utf-8,${o}`),t.download){const l=document.createElement("a");l.href=encodeURI(o),l.download=`${t.filename||"datatable_export"}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l)}return o}return!1},kt={class:"bg-white rounded-md p-5 mb-5"},Tt=T("br",null,null,-1),Lt={class:"bg-white rounded-md p-1 mb-5"},St={id:"export-table"},At=T("thead",null,[T("tr",null,[T("th",{"data-type":"number"},[T("span",{class:"flex items-center"},[oe(" SN "),T("svg",{class:"w-4 h-4 ms-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[T("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m8 15 4 4 4-4m0-6-4-4-4 4"})])])]),T("th",{"data-type":"string"},[T("span",{class:"flex items-center"},[oe(" Amount "),T("svg",{class:"w-4 h-4 ms-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[T("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m8 15 4 4 4-4m0-6-4-4-4 4"})])])]),T("th",{"data-type":"string"},[T("span",{class:"flex items-center"},[oe(" Type "),T("svg",{class:"w-4 h-4 ms-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[T("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m8 15 4 4 4-4m0-6-4-4-4 4"})])])]),T("th",{"data-type":"string"},[T("span",{class:"flex items-center"},[oe(" Status "),T("svg",{class:"w-4 h-4 ms-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[T("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m8 15 4 4 4-4m0-6-4-4-4 4"})])])]),T("th",{"data-type":"date","data-format":"YYYY/DD/MM"},[T("span",{class:"flex items-center"},[oe(" Date "),T("svg",{class:"w-4 h-4 ms-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[T("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m8 15 4 4 4-4m0-6-4-4-4 4"})])])])])],-1),$t={class:"font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ct={class:"font-medium text-gray-900 whitespace-nowrap dark:text-white"},Pt={class:"font-medium text-gray-900 whitespace-nowrap dark:text-white"},Ht={class:"inline-flex items-center justify-center rounded-full border border-red-500 px-2.5 py-0.5 text-red-400"},It=T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"-ms-1 me-1.5 size-4"},[T("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Yt={class:"whitespace-nowrap text-sm"},Rt=T("div",{class:"grid grid-cols-1 mb-7 opacity-50 hidden"},[T("div",{class:"flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 dark:border-red-800",role:"alert"},[T("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[T("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})]),T("span",{class:"sr-only"},"Info"),T("div",null,[T("span",{class:"font-medium"},"!!"),oe(" Background Jobs are still Compiling.")])])],-1),Jt=Object.assign({layout:st},{__name:"LoanHistory",props:{pageState:String,loanHistory:Object},setup(n){We(()=>{if(Qe(),document.getElementById("export-table")&&typeof je<"u"){const t=new je("#export-table",{template:(i,o)=>"<div class='"+i.classes.top+"'><div class='flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-3 rtl:space-x-reverse w-full sm:w-auto'>"+(i.paging&&i.perPageSelect?"<div class='"+i.classes.dropdown+"'><label><select class='"+i.classes.selector+"'></select> "+i.labels.perPage+"</label></div>":"")+"<button id='exportDropdownButton' type='button' class='flex w-full items-center justify-center rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-medium text-gray-900 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:outline-none focus:ring-4 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700 sm:w-auto'>Export as<svg class='-me-0.5 ms-1.5 h-4 w-4' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' viewBox='0 0 24 24'><path stroke='currentColor' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m19 9-7 7-7-7' /></svg></button><div id='exportDropdown' class='z-10 hidden w-52 divide-y divide-gray-100 rounded-lg bg-white shadow dark:bg-gray-700' data-popper-placement='bottom'><ul class='p-2 text-left text-sm font-medium text-gray-500 dark:text-gray-400' aria-labelledby='exportDropdownButton'><li><button id='export-csv' class='group inline-flex w-full items-center rounded-md px-3 py-2 text-sm text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white'><svg class='me-1.5 h-4 w-4 text-gray-400 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='currentColor' viewBox='0 0 24 24'><path fill-rule='evenodd' d='M9 2.221V7H4.221a2 2 0 0 1 .365-.5L8.5 2.586A2 2 0 0 1 9 2.22ZM11 2v5a2 2 0 0 1-2 2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2 2 2 0 0 0 2 2h12a2 2 0 0 0 2-2 2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2V4a2 2 0 0 0-2-2h-7Zm1.018 8.828a2.34 2.34 0 0 0-2.373 2.13v.008a2.32 2.32 0 0 0 2.06 2.497l.535.059a.993.993 0 0 0 .136.006.272.272 0 0 1 .263.367l-.008.02a.377.377 0 0 1-.018.044.49.49 0 0 1-.078.02 1.689 1.689 0 0 1-.297.021h-1.13a1 1 0 1 0 0 2h1.13c.417 0 .892-.05 1.324-.279.47-.248.78-.648.953-1.134a2.272 2.272 0 0 0-2.115-3.06l-.478-.052a.32.32 0 0 1-.285-.341.34.34 0 0 1 .344-.306l.94.02a1 1 0 1 0 .043-2l-.943-.02h-.003Zm7.933 1.482a1 1 0 1 0-1.902-.62l-.57 1.747-.522-1.726a1 1 0 0 0-1.914.578l1.443 4.773a1 1 0 0 0 1.908.021l1.557-4.773Zm-13.762.88a.647.647 0 0 1 .458-.19h1.018a1 1 0 1 0 0-2H6.647A2.647 2.647 0 0 0 4 13.647v1.706A2.647 2.647 0 0 0 6.647 18h1.018a1 1 0 1 0 0-2H6.647A.647.647 0 0 1 6 15.353v-1.706c0-.172.068-.336.19-.457Z' clip-rule='evenodd'/></svg><span>Export CSV</span></button></li><li><button id='export-json' class='group inline-flex w-full items-center rounded-md px-3 py-2 text-sm text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white'><svg class='me-1.5 h-4 w-4 text-gray-400 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='currentColor' viewBox='0 0 24 24'><path fill-rule='evenodd' d='M9 2.221V7H4.221a2 2 0 0 1 .365-.5L8.5 2.586A2 2 0 0 1 9 2.22ZM11 2v5a2 2 0 0 1-2 2H4v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-7Zm-.293 9.293a1 1 0 0 1 0 1.414L9.414 14l1.293 1.293a1 1 0 0 1-1.414 1.414l-2-2a1 1 0 0 1 0-1.414l2-2a1 1 0 0 1 1.414 0Zm2.586 1.414a1 1 0 0 1 1.414-1.414l2 2a1 1 0 0 1 0 1.414l-2 2a1 1 0 0 1-1.414-1.414L14.586 14l-1.293-1.293Z' clip-rule='evenodd'/></svg><span>Export JSON</span></button></li><li><button id='export-txt' class='group inline-flex w-full items-center rounded-md px-3 py-2 text-sm text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white'><svg class='me-1.5 h-4 w-4 text-gray-400 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='currentColor' viewBox='0 0 24 24'><path fill-rule='evenodd' d='M9 2.221V7H4.221a2 2 0 0 1 .365-.5L8.5 2.586A2 2 0 0 1 9 2.22ZM11 2v5a2 2 0 0 1-2 2H4v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-7ZM8 16a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1-5a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2H9Z' clip-rule='evenodd'/></svg><span>Export TXT</span></button></li><li><button id='export-sql' class='group inline-flex w-full items-center rounded-md px-3 py-2 text-sm text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white'><svg class='me-1.5 h-4 w-4 text-gray-400 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white' aria-hidden='true' xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='currentColor' viewBox='0 0 24 24'><path d='M12 7.205c4.418 0 8-1.165 8-2.602C20 3.165 16.418 2 12 2S4 3.165 4 4.603c0 1.437 3.582 2.602 8 2.602ZM12 22c4.963 0 8-1.686 8-2.603v-4.404c-.052.032-.112.06-.165.09a7.75 7.75 0 0 1-.745.387c-.193.088-.394.173-.6.253-.063.024-.124.05-.189.073a18.934 18.934 0 0 1-6.3.998c-2.135.027-4.26-.31-6.3-.998-.065-.024-.126-.05-.189-.073a10.143 10.143 0 0 1-.852-.373 7.75 7.75 0 0 1-.493-.267c-.053-.03-.113-.058-.165-.09v4.404C4 20.315 7.037 22 12 22Zm7.09-13.928a9.91 9.91 0 0 1-.6.253c-.063.025-.124.05-.189.074a18.935 18.935 0 0 1-6.3.998c-2.135.027-4.26-.31-6.3-.998-.065-.024-.126-.05-.189-.074a10.163 10.163 0 0 1-.852-.372 7.816 7.816 0 0 1-.493-.268c-.055-.03-.115-.058-.167-.09V12c0 .917 3.037 2.603 8 2.603s8-1.686 8-2.603V7.596c-.052.031-.112.059-.165.09a7.816 7.816 0 0 1-.745.386Z'/></svg><span>Export SQL</span></button></li></ul></div></div>"+(i.searchable?"<div class='"+i.classes.search+"'><input class='"+i.classes.input+"' placeholder='"+i.labels.placeholder+"' type='search' title='"+i.labels.searchTitle+"'"+(o.id?" aria-controls='"+o.id+"'":"")+"></div>":"")+"</div><div class='"+i.classes.container+"'"+(i.scrollY.length?" style='height: "+i.scrollY+"; overflow-Y: auto;'":"")+"></div><div class='"+i.classes.bottom+"'>"+(i.paging?"<div class='"+i.classes.info+"'></div>":"")+"<nav class='"+i.classes.pagination+"'></nav></div>"}),s=document.getElementById("exportDropdownButton"),a=document.getElementById("exportDropdown"),r=new Ge(a,s);console.log(r),document.getElementById("export-csv").addEventListener("click",()=>{Et(t,{download:!0,lineDelimiter:`
`,columnDelimiter:";"})}),document.getElementById("export-sql").addEventListener("click",()=>{Mt(t,{download:!0,tableName:"export_table"})}),document.getElementById("export-txt").addEventListener("click",()=>{Ot(t,{download:!0})}),document.getElementById("export-json").addEventListener("click",()=>{Vt(t,{download:!0,space:3})})}}),Xe(lt,rt,ot,it,ct,at,nt,dt);const e=Ke().props.auth.user;return(t,s)=>(ve(),_e(Ae,null,[we(Se(tt),{title:"Loan Portal"}),we($e,{text:"Loan History"}),T("div",kt,[oe("Welcome, "+re(Se(e).firstname)+" ..",1),Tt]),we($e,{text:n.pageState},null,8,["text"]),T("div",Lt,[T("table",St,[At,T("tbody",null,[(ve(!0),_e(Ae,null,et(n.loanHistory,a=>(ve(),_e("tr",{key:a.span,class:"hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer"},[T("td",$t,re(a.amount),1),T("td",Ct,re(a.amount),1),T("td",Pt,re(a.status==1?"Project Loan":"Emergency Loan"),1),T("td",null,[T("span",Ht,[It,T("p",Yt,re(a.status),1)])]),T("td",null,re(a.date),1)]))),128))])])]),Rt],64))}});export{Jt as default};
